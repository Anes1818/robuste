<!DOCTYPE html>
<html dir="rtl" lang="fr">
<head>
<meta name="description" content="متجر Robuste eulma - أجهزة كهربائية منزلية بجودة عالية وأسعار تنافسية في الجزائر مع ضمان سنتين وتوصيل سريع">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">

<!-- أيقونة SVG -->
<link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon">
<link rel="apple-touch-icon" sizes="180x180" href="images/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16x16.png">

<!-- Theme color -->
<meta name="theme-color" content="#ff6600">
<title>Robuste eulma- Boutique</title>

<!-- Google Fonts (Tajawal) -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&display=swap" rel="stylesheet">

<!-- Bootstrap RTL -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.rtl.min.css" rel="stylesheet">

<!-- Bootstrap Icons -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">

<!-- EmailJS -->
<script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>

<style>
:root {
    --primary: #FF6B35;
    --primary-dark: #E05A2B;
    --secondary: #FFF8F0;
    --light: #FFFFFF;
    --dark: #333333;
    --gray: #6C757D;
    --success: #28a745;
    --danger: #dc3545;
}

/* نظام دارك مود محترف */
:root[data-theme="dark"] {
    --primary: #FF8C42;
    --primary-dark: #FF6B35;
    --secondary: #121212;
    --light: #1e1e1e;
    --dark: #f5f5f5;
    --gray: #a0a0a0;
    --success: #4CAF50;
    --danger: #f44336;
    --border-color: rgba(255, 255, 255, 0.1);
    --shadow-color: rgba(0, 0, 0, 0.3);
}

body {
    font-family: 'Tajawal', sans-serif;
    background-color: var(--secondary);
    color: var(--dark);
    padding-top: 56px;
    transition: background-color 0.3s ease, color 0.3s ease;
}

[data-theme="dark"] body {
    background-color: var(--secondary);
    color: var(--dark);
}

/* نافذة الطلب المبسطة والصغيرة */
.order-modal-simple .modal-dialog {
    max-width: 500px;
}

.order-modal-simple .modal-content {
    border-radius: 15px;
    overflow: hidden;
    border: none;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
}

.order-modal-simple .modal-header {
    background: linear-gradient(135deg, var(--primary), var(--primary-dark));
    color: white;
    border-bottom: none;
    padding: 20px;
}

.order-modal-simple .modal-title {
    font-weight: 700;
    font-size: 1.4rem;
}

.order-modal-simple .modal-body {
    padding: 25px;
}

.order-summary-simple {
    background: linear-gradient(135deg, rgba(255, 107, 53, 0.1), rgba(255, 140, 66, 0.1));
    border-radius: 12px;
    padding: 20px;
    margin-bottom: 25px;
    border: 2px dashed rgba(255, 107, 53, 0.3);
}

.product-summary {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 15px;
}

.product-summary-img {
    width: 80px;
    height: 80px;
    border-radius: 10px;
    object-fit: cover;
    border: 2px solid var(--primary);
    padding: 3px;
    background: white;
}

.product-summary-details h5 {
    margin-bottom: 5px;
    color: var(--dark);
    font-weight: 700;
}

.product-summary-details .price {
    color: var(--primary);
    font-weight: 800;
    font-size: 1.3rem;
}

.total-price-simple {
    text-align: center;
    padding-top: 15px;
    border-top: 2px solid rgba(255, 107, 53, 0.2);
}

.total-price-simple .label {
    color: var(--gray);
    font-size: 0.9rem;
    margin-bottom: 5px;
}

.total-price-simple .value {
    color: var(--primary);
    font-weight: 900;
    font-size: 1.8rem;
}

/* زر تأكيد الشراء الجذاب */
.confirm-order-btn {
    background: linear-gradient(135deg, var(--primary), var(--primary-dark));
    color: white;
    border: none;
    border-radius: 12px;
    padding: 18px;
    font-weight: 800;
    font-size: 1.1rem;
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 6px 20px rgba(255, 107, 53, 0.3);
    position: relative;
    overflow: hidden;
}

.confirm-order-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: left 0.7s;
}

.confirm-order-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 10px 25px rgba(255, 107, 53, 0.4);
    background: linear-gradient(135deg, var(--primary-dark), #E04A1C);
}

.confirm-order-btn:hover::before {
    left: 100%;
}

.confirm-order-btn:active {
    transform: translateY(-1px);
    box-shadow: 0 4px 15px rgba(255, 107, 53, 0.3);
}

.confirm-order-btn i {
    font-size: 1.3rem;
    transition: transform 0.3s;
}

.confirm-order-btn:hover i {
    transform: scale(1.2) rotate(-5deg);
}

/* تصميم زر دارك مود */
.theme-toggle {
    width: 42px;
    height: 42px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: var(--dark);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    cursor: pointer;
    margin-left: 10px;
    position: relative;
    overflow: hidden;
}

.theme-toggle::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
    transition: left 0.5s;
}

.theme-toggle:hover::before {
    left: 100%;
}

[data-theme="light"] .theme-toggle {
    background: rgba(0, 0, 0, 0.05);
    border: 1px solid rgba(0, 0, 0, 0.1);
    color: var(--dark);
}

[data-theme="dark"] .theme-toggle {
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: var(--dark);
}

.theme-toggle:hover {
    background: var(--primary);
    color: white;
    transform: rotate(15deg) scale(1.1);
    border-color: var(--primary);
}
        
.navbar {
    background-color: var(--light);
    box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
}

[data-theme="dark"] .navbar {
    background-color: #1a1a1a !important;
    box-shadow: 0 2px 15px rgba(0, 0, 0, 0.3);
    border-bottom: 1px solid var(--border-color);
}
        
.navbar-brand {
    color: var(--primary) !important;
    font-weight: 700;
    font-size: 1.5rem;
}
        
.section-title {
    position: relative;
    margin-bottom: 40px;
    padding-bottom: 15px;
    font-weight: 800;
    color: var(--dark);
    text-align: center;
}

[data-theme="dark"] .section-title {
    color: var(--dark);
}
        
.section-title::after {
    content: '';
    position: absolute;
    bottom: 0;
    right: 50%;
    transform: translateX(50%);
    width: 80px;
    height: 4px;
    background-color: var(--primary);
    border-radius: 2px;
}
        
/* تحسين بطاقات المنتج لتكون تفاعلية */
.product-card {
    border: 1px solid #e7e7e7;
    border-radius: 12px;
    overflow: hidden;
    height: 100%;
    display: flex;
    flex-direction: column;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    background: white;
    position: relative;
    cursor: pointer;
    text-decoration: none !important;
    color: inherit !important;
}

[data-theme="dark"] .product-card {
    background: var(--light);
    border: 1px solid var(--border-color);
    box-shadow: 0 4px 12px var(--shadow-color);
}

.product-card:hover {
    box-shadow: 0 8px 25px rgba(0,0,0,0.15);
    transform: translateY(-8px) scale(1.02);
    border-color: var(--primary);
}

[data-theme="dark"] .product-card:hover {
    border-color: var(--primary);
    box-shadow: 0 8px 25px rgba(255, 107, 53, 0.2);
    transform: translateY(-8px) scale(1.02);
}

.image-container {
    position: relative;
    padding: 15px;
    flex-grow: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    height: 200px;
    background: linear-gradient(135deg, rgba(255,107,53,0.08) 0%, rgba(255,140,66,0.08) 100%);
    overflow: hidden;
}

[data-theme="dark"] .image-container {
    background: linear-gradient(135deg, rgba(255,107,53,0.08) 0%, rgba(255,140,66,0.08) 100%);
}

.product-image {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
    transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.product-card:hover .product-image {
    transform: scale(1.12);
}

.product-info {
    padding: 18px 15px;
    border-top: 1px solid #eee;
    background: white;
    flex-grow: 0;
}

[data-theme="dark"] .product-info {
    background: var(--light);
    border-top: 1px solid var(--border-color);
}

.product-title {
    font-size: 15px;
    font-weight: 600;
    color: #333;
    margin-bottom: 10px;
    height: 44px;
    overflow: hidden;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    line-height: 1.4;
}

[data-theme="dark"] .product-title {
    color: var(--dark);
}

.price-section {
    margin-bottom: 12px;
}

.current-price {
    font-size: 17px;
    font-weight: 800;
    color: #B12704;
}

[data-theme="dark"] .current-price {
    color: var(--primary);
}

.old-price {
    font-size: 14px;
    color: #767676;
    text-decoration: line-through;
    margin-right: 5px;
}

[data-theme="dark"] .old-price {
    color: var(--gray);
}

.buy-btn {
    width: 100%;
    background: linear-gradient(135deg, #FFD814, #F7CA00);
    border: none;
    border-radius: 25px;
    padding: 12px;
    font-size: 14px;
    font-weight: 700;
    color: #111;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    margin-top: 8px;
}

.buy-btn:hover {
    background: linear-gradient(135deg, #F7CA00, #E6B800);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(247, 202, 0, 0.3);
}

[data-theme="dark"] .buy-btn {
    background: linear-gradient(135deg, var(--primary), var(--primary-dark));
    color: white;
}

[data-theme="dark"] .buy-btn:hover {
    box-shadow: 0 4px 12px rgba(255, 107, 53, 0.3);
}

.discount-badge {
    position: absolute;
    top: 12px;
    left: 12px;
    background: linear-gradient(135deg, #CC0C39, #FF073A);
    color: white;
    padding: 5px 12px;
    border-radius: 20px;
    font-size: 13px;
    font-weight: 800;
    z-index: 2;
    box-shadow: 0 4px 10px rgba(204, 12, 57, 0.3);
}

/* تقليل المسافات بين الأعمدة للهواتف */
@media (max-width: 768px) {
    #productsContainer .row {
        margin-left: -5px;
        margin-right: -5px;
    }
    
    #productsContainer .col-6 {
        padding-left: 5px;
        padding-right: 5px;
        margin-bottom: 10px;
    }
    
    .product-card {
        border-radius: 10px;
        margin-bottom: 0;
    }
    
    .image-container {
        height: 160px;
        padding: 10px;
    }
    
    .product-title {
        font-size: 13px;
        height: 38px;
        margin-bottom: 8px;
    }
    
    .current-price {
        font-size: 15px;
    }
    
    .old-price {
        font-size: 12px;
    }
    
    .buy-btn {
        padding: 10px;
        font-size: 13px;
        border-radius: 20px;
    }
    
    /* تصغير الأيقونات في الموبايل */
    .feature-item {
        flex: 0 0 auto;
        width: 20% !important;
        padding: 0 3px !important;
    }
    
    .feature-icon {
        width: 36px !important;
        height: 36px !important;
        font-size: 0.9rem !important;
        margin-bottom: 5px !important;
    }
    
    .feature-item h5 {
        font-size: 0.7rem !important;
        margin-bottom: 3px !important;
        line-height: 1.2;
    }
    
    .feature-item p {
        display: none !important;
    }
    
    .row.text-center {
        flex-wrap: nowrap !important;
        overflow-x: auto !important;
        padding-bottom: 5px;
    }
}

@media (max-width: 576px) {
    #productsContainer .col-6 {
        width: 50%;
        flex: 0 0 50%;
    }
    
    .image-container {
        height: 140px;
    }
    
    .product-info {
        padding: 12px 10px;
    }
}  
        
.btn-orange {
    background-color: var(--primary);
    color: white;
    border: none;
    padding: 10px 25px;
    border-radius: 8px;
    font-weight: 700;
    transition: all 0.3s;
}
        
.btn-orange:hover {
    background-color: var(--primary-dark);
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
}
        
.whatsapp-btn {
    position: fixed;
    bottom: 25px;
    left: 25px;
    z-index: 1000;
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background-color: #25D366;
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 28px;
    box-shadow: 0 5px 15px rgba(37, 211, 102, 0.3);
    transition: all 0.3s;
}

[data-theme="dark"] .whatsapp-btn {
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4);
}
        
.whatsapp-btn:hover {
    transform: scale(1.1);
}
        
.status-indicator {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 2000;
    max-width: 350px;
}
        
.spinner-border {
    width: 1.5rem;
    height: 1.5rem;
    border-width: 0.2em;
}
        
.order-confirmation {
    background-color: rgba(255, 255, 255, 0.95);
    border-left: 5px solid var(--success);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
}
        
.order-error {
    background-color: rgba(255, 255, 255, 0.95);
    border-left: 5px solid var(--danger);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
}
        
.contact-card {
    background: white;
    border-radius: 12px;
    padding: 25px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.08);
    height: 100%;
    transition: all 0.3s;
}

[data-theme="dark"] .contact-card {
    background: var(--light);
    border: 1px solid var(--border-color);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
}

[data-theme="dark"] .contact-card:hover {
    border-color: var(--primary);
}
        
.feature-icon {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background: var(--primary);
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    margin-bottom: 15px;
}
        
/* أنماط الهيرو الجديدة */
.hero-container {
    width: 100%;
    overflow: hidden;
    position: relative;
    height: auto;
}

.hero-image-container {
    width: 100%;
    position: relative;
}

.hero-image {
    width: 100%;
    height: auto;
    display: block;
    object-fit: cover;
}

.image-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
}

.hero-content {
    color: white;
    z-index: 2;
    width: 100%;
    padding: 20px;
}

/* تعديلات للاستجابة */
@media (max-width: 768px) {
    .hero-title {
        font-size: 2rem !important;
    }
    
    .hero-subtitle {
        font-size: 1.1rem !important;
    }
    
    .hero-content {
        padding: 15px;
    }
}

@media (max-width: 576px) {
    .hero-title {
        font-size: 1.5rem !important;
    }
    
    .hero-subtitle {
        font-size: 1rem !important;
    }
    
    .hero-content .btn {
        padding: 8px 16px;
        font-size: 0.9rem;
    }
}

.product-badge {
    position: absolute;
    top: 15px;
    right: 15px;
    background-color: var(--primary);
    color: white;
    padding: 5px 15px;
    border-radius: 20px;
    font-size: 0.9rem;
    font-weight: 600;
    z-index: 1;
}

.discount-badge {
    position: absolute;
    top: 15px;
    left: 15px;
    background-color: var(--success);
    color: white;
    padding: 5px 15px;
    border-radius: 20px;
    font-size: 0.9rem;
    font-weight: 600;
    z-index: 1;
}
        
.review-card {
    background: white;
    border-radius: 12px;
    padding: 25px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.08);
    height: 100%;
    transition: all 0.3s;
}

[data-theme="dark"] .review-card {
    background: var(--light);
    border: 1px solid var(--border-color);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
}

[data-theme="dark"] .review-card:hover {
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
    border-color: var(--primary);
}
        
.review-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 20px rgba(0,0,0,0.12);
}
        
.map-container {
    height: 300px;
    border-radius: 12px;
    overflow: hidden;
}
        
/* تحسينات التجاوب */
@media (max-width: 768px) {
    .hero-title {
        font-size: 2rem;
    }
    .hero-subtitle {
        font-size: 1.1rem;
    }
    .section-title {
        font-size: 1.5rem;
    }
    .map-container {
        height: 250px;
    }
}
        
.social-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background-color: rgba(0,0,0,0.1);
    color: var(--dark);
    margin-left: 10px;
    transition: all 0.3s;
}
        
.social-icon:hover {
    background-color: var(--primary);
    color: white;
    transform: translateY(-3px);
}
        
.confirmation-icon {
    font-size: 5rem;
    color: var(--success);
    margin-bottom: 20px;
    animation: pulse 1s infinite;
}
        
@keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.1); }
    100% { transform: scale(1); }
}
        
.order-summary {
    background-color: #f8f9fa;
    border-radius: 8px;
    padding: 15px;
    margin-bottom: 20px;
}

[data-theme="dark"] .order-summary {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--border-color);
}
        
.product-image-thumb {
    width: 60px;
    height: 60px;
    border-radius: 8px;
    object-fit: cover;
}
        
.form-control:focus, .form-select:focus {
    border-color: var(--primary);
    box-shadow: 0 0 0 0.25rem rgba(255, 107, 53, 0.25);
}

[data-theme="dark"] .form-control,
[data-theme="dark"] .form-select {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--border-color);
    color: var(--dark);
}

[data-theme="dark"] .form-control:focus,
[data-theme="dark"] .form-select:focus {
    background: rgba(255, 255, 255, 0.08);
    border-color: var(--primary);
    box-shadow: 0 0 0 3px rgba(255, 107, 53, 0.1);
}
        
/* تحسينات إضافية */
.whatsapp-contact-btn {
    background-color: #25D366;
    color: white;
    font-weight: 600;
    transition: all 0.3s;
}
        
.whatsapp-contact-btn:hover {
    background-color: #128C7E;
    color: white;
}
        
.feature-item {
    transition: transform 0.3s ease;
}
        
.feature-item:hover {
    transform: translateY(-5px);
}

/* ============== قسم العروض الخاصة ============== */
.offers-section {
  background: linear-gradient(135deg, #FF6B35 0%, #FF8C42 50%, #FFA552 100%);
  padding: 80px 0;
  color: white;
  text-align: center;
  position: relative;
  overflow: hidden;
  margin: 0px 0;
}

[data-theme="dark"] .offers-section {
    background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 50%, #1a1a1a 100%);
    color: white;
    border-top: 1px solid var(--border-color);
    border-bottom: 1px solid var(--border-color);
}

.offers-section::before {
  content: "";
  position: absolute;
  inset: 0;
  background: url('https://images.unsplash.com/photo-1607082348824-0a96f2a4b9da?ixlib=rb-4.0.3&auto=format&fit=crop&w=2000&q=80') center/cover;
  opacity: 0.08;
  filter: blur(2px);
}

.products-grid > * {
  flex: 0 0 auto; /* يمنع التمدد */
  scroll-snap-align: start; /* يخلي العنصر يبدأ من البداية */
}
/* ===== العنوان ===== */
.offers-title {
  font-size: 2.8rem;
  font-weight: 800;
  margin-bottom: 20px;
  position: relative;
  display: inline-block;
  text-shadow: 2px 2px 6px rgba(0,0,0,0.35);
}

.offers-title::after {
  content: "";
  position: absolute;
  bottom: -12px;
  left: 50%;
  transform: translateX(-50%);
  width: 120px;
  height: 5px;
  background-color: white;
  border-radius: 3px;
}

.offer-subtitle {
  font-size: 1.25rem;
  max-width: 700px;
  margin: 0 auto 40px;
  opacity: 0.95;
  line-height: 1.6;
}

/* ===== تايمر ===== */
.offer-timer {
  background: rgba(255,255,255,0.15);
  border-radius: 15px;
  padding: 20px;
  max-width: 550px;
  margin: 0 auto 50px;
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255,255,255,0.15);
  box-shadow: 0 6px 20px rgba(0,0,0,0.15);
}

[data-theme="dark"] .offer-timer {
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.timer-title {
  font-size: 1.2rem;
  margin-bottom: 20px;
  font-weight: 600;
  letter-spacing: 0.5px;
}

.timer-content {
  display: flex;
  justify-content: center;
  gap: 15px;
}

.timer-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-width: 80px;
  padding: 15px 10px;
  background: rgba(255,255,255,0.15);
  border-radius: 12px;
  position: relative;
  overflow: hidden;
  transition: all 0.3s ease;
}

[data-theme="dark"] .timer-item {
    background: rgba(255, 255, 255, 0.05);
}

.timer-item::after {
  content: "";
  position: absolute;
  top: 0; left: 0; right: 0;
  height: 3px;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.5), transparent);
  animation: shimmer 2s infinite;
}

@keyframes shimmer {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

.timer-item:hover {
  transform: translateY(-5px);
  background: rgba(255,255,255,0.25);
}

[data-theme="dark"] .timer-item:hover {
    background: rgba(255, 255, 255, 0.1);
}

.timer-value {
  font-size: 2.2rem;
  font-weight: 800;
  margin-bottom: 5px;
}

.timer-label {
  font-size: 0.95rem;
  opacity: 0.9;
  font-weight: 500;
}

/* ===== المنتجات ===== */
.offer-products {
  max-width: 1600px;
  margin: 40px auto 0;
  display: flex;
  flex-wrap: nowrap;
  gap: 30px;
  padding: 0 20px;
  overflow-x: auto;
  scroll-snap-type: x mandatory;
}

.offer-product {
  flex: 0 0 320px;
  background: white;
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 10px 30px rgba(0,0,0,0.12);
  transition: transform 0.35s ease, box-shadow 0.35s ease;
  display: flex;
  flex-direction: column;
  position: relative;
  scroll-snap-align: start;
}

[data-theme="dark"] .offer-product {
    background: var(--light);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    border: 1px solid var(--border-color);
}

.offer-product:hover {
  transform: translateY(-10px) scale(1.02);
  box-shadow: 0 15px 40px rgba(0,0,0,0.2);
}

[data-theme="dark"] .offer-product:hover {
    box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
    border-color: var(--primary);
}

/* ===== بادجات ===== */
.offer-product-discount {
  position: absolute;
  top: 15px; left: 15px;
  background: linear-gradient(135deg, #CC0C39, #FF073A);
  color: white;
  padding: 6px 14px;
  border-radius: 20px;
  font-size: 14px;
  font-weight: 700;
  box-shadow: 0 4px 10px rgba(204,12,57,0.3);
  z-index: 2;
}

.offer-product-badge {
  position: absolute;
  top: 15px; right: 15px;
  background: linear-gradient(135deg, var(--primary), var(--primary-dark));
  color: white;
  padding: 6px 14px;
  border-radius: 20px;
  font-size: 14px;
  font-weight: 700;
  box-shadow: 0 4px 10px rgba(255,107,53,0.3);
  z-index: 2;
}

/* ===== صورة المنتج (كاروسيل) ===== */
.offer-product .carousel {
  position: relative;
  height: auto;
  overflow: hidden;
  border-radius: 16px 16px 0 0;
}

.offer-product .carousel-inner {
  display: flex;
  transition: transform 0.6s ease-in-out;
}

.offer-product .carousel-item {
  min-width: 100%;
}

  .carousel-item img {
    height: 200px;
    object-fit: cover; transition: transform 3s ease;
  }
  @media (min-width: 768px) {
    .carousel-item img {
      height: 300px;
    }
  }

.offer-product:hover .carousel-item img {
  transform: scale(1.05);
}

/* ===== أزرار الكاروسيل ===== */
.offer-product .carousel-control-prev,
.offer-product .carousel-control-next {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 42px;
  height: 42px;
  border-radius: 50%;
  background: rgba(255,255,255,0.8);
  backdrop-filter: blur(6px);
  border: 2px solid rgba(255,107,53,0.6);
  display: flex;
  align-items: center;
  justify-content: space-between;
  opacity: 0;
  transition: all 0.3s ease;
  z-index: 3;
}

.offer-product:hover .carousel-control-prev,
.offer-product:hover .carousel-control-next {
  opacity: 1;
}

.offer-product .carousel-control-prev { left: 160px; }
.offer-product .carousel-control-next { right: 87%; }

.offer-product .carousel-control-prev-icon,
.offer-product .carousel-control-next-icon {
  filter: invert(1) drop-shadow(0 0 2px rgba(0,0,0,0.4));
}

/* ===== نصوص وأسعار ===== */
.offer-product-content {
  padding: 18px;
  display: flex;
  flex-direction: column;
  flex-grow: 1;
}

.offer-product-title {
  font-weight: 600;
  font-size: 1rem;
  color: #333;
  margin-bottom: 8px;
  line-height: 1.4;
  max-height: 42px;
  overflow: hidden;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
}

[data-theme="dark"] .offer-product-title {
    color: var(--dark);
}

.offer-product-price {
  font-size: 1.3rem;
  font-weight: 800;
  color: var(--primary);
}

.offer-product-old-price {
  font-size: 0.9rem;
  text-decoration: line-through;
  color: #777;
}

/* ===== زر الشراء ===== */
.offer-btn {
  margin-top: auto;
  background: linear-gradient(135deg, var(--primary), var(--primary-dark));
  color: white;
  border: none;
  border-radius: 10px;
  padding: 12px 18px;
  text-align: center;
  font-weight: 700;
  font-size: 0.95rem;
  transition: all 0.3s ease;
  box-shadow: 0 4px 14px rgba(255,107,53,0.25);
}

.offer-btn:hover {
  transform: translateY(-2px);
  background: linear-gradient(135deg, var(--primary-dark), #D84315);
  box-shadow: 0 6px 20px rgba(255,107,53,0.4);
}

/* ===== Responsive ===== */
@media (max-width: 768px) {
  .offers-title { font-size: 2rem; margin-bottom: 15px; }
  .offer-subtitle { font-size: 1.1rem; margin-bottom: 30px; padding: 0 15px; }
  .offer-products { gap: 18px; }
  .offer-product { flex: 0 0 250px; }
  .offer-product .carousel { height: auto; }
}

@media (min-width: 769px) and (max-width: 1199px) {
  .offer-products { justify-content: flex-start; }
}

@media (min-width: 1200px) {
  .offer-products {
    justify-content: center;
    overflow-x: hidden;
  }
}
.product-card {
    border-radius: 10px;
    overflow: hidden;
    transition: transform 0.3s, box-shadow 0.3s;
    border: 1px solid #eee;
}

.product-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0,0,0,0.1);
}

.product-card .card-body {
    padding: 15px;
}

.product-card .card-title {
    font-size: 1rem;
    font-weight: 600;
    margin-bottom: 8px;
    height: 40px;
    overflow: hidden;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
}

.product-card .card-text {
    font-size: 0.85rem;
    height: 40px;
    overflow: hidden;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
}

.product-card .card-footer {
    padding: 10px 15px;
}

/* تحسينات للهاتف */
@media (max-width: 768px) {
    .product-card {
        margin-bottom: 15px;
    }
    
    .product-card .card-title {
        font-size: 0.9rem;
        height: 36px;
    }
    
    .product-card .card-text {
        font-size: 0.8rem;
        height: 36px;
    }
    
    .product-card .btn-orange {
        padding: 8px 12px;
        font-size: 0.8rem;
    }

}

/* أضف هذا في قسم الأنماط */
.categories-filter {
    padding: 15px 0;
    border-bottom: 1px solid #eee;
    margin-bottom: 30px;
}

[data-theme="dark"] .categories-filter {
    border-bottom: 1px solid var(--border-color);
}

.category-btn {
    border-radius: 20px;
    padding: 8px 20px;
    font-weight: 500;
    transition: all 0.3s;
    border-width: 2px;
}

[data-theme="dark"] .category-btn {
    background: rgba(255, 255, 255, 0.05);
    border: 2px solid var(--border-color);
    color: var(--dark);
}

.category-btn:hover, .category-btn.active {
    background-color: var(--primary);
    color: white;
    border-color: var(--primary);
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(255, 107, 53, 0.2);
}

[data-theme="dark"] .category-btn:hover,
[data-theme="dark"] .category-btn.active {
    background: linear-gradient(135deg, var(--primary), var(--primary-dark));
    color: white;
    border-color: var(--primary);
}

/* تحسينات للجوال */
@media (max-width: 768px) {
    .categories-filter {
        overflow-x: auto;
        white-space: nowrap;
        padding-bottom: 10px;
    }
    
    .categories-filter .d-flex {
        flex-wrap: nowrap;
        padding-bottom: 10px;
    }
    
    .category-btn {
        padding: 6px 15px;
        font-size: 0.9rem;
    }
}

/* أضف هذا في قسم الـ media queries للهاتف */
@media (max-width: 768px) {
    .feature-item {
        flex: 0 0 auto;
        width: 20%; /* جعل كل عنصر يأخذ 20% من العرض */
        padding: 0 5px; /* تقليل المساحة الجانبية */
    }
    
    .feature-icon {
        width: 40px; /* تصغير حجم الأيقونة */
        height: 40px;
        font-size: 1rem; /* تصغير حجم الخط */
        margin-bottom: 8px; /* تقليل المسافة السفلية */
    }
    
    .feature-item h5 {
        font-size: 0.8rem; /* تصغير حجم العنوان */
        margin-bottom: 5px;
        line-height: 1.2;
    }
    
    .feature-item p {
        font-size: 0.7rem; /* تصغير حجم النص */
        display: none !important; /* إخفاء النص على الهواتف */
    }
    
    /* لجعل الصف يأخذ سطراً واحداً بدون لف */
    .row.text-center {
        flex-wrap: nowrap;
        overflow-x: auto; /* لتمكين التمرير الأفقي إذا لزم الأمر */
    }
}

/* أضف هذا في قسم الـ media queries للهاتف */
@media (max-width: 768px) {
    /* تصغير حجم قسم العروض */
    .offers-section {
        padding: 30px 0 !important;
    }

    /* تعديل العنوان والوصف */
    .offers-title {
        font-size: 1.5rem !important;
        margin-bottom: 10px !important;
    }
    
    .offer-subtitle {
        font-size: 0.9rem !important;
        margin-bottom: 20px !important;
    }

    /* جعل المؤقت أصغر */
    .offer-timer {
        padding: 10px !important;
        margin-bottom: 20px !important;
    }
    
    .timer-item {
        min-width: 50px !important;
        padding: 5px !important;
    }
    
    .timer-value {
        font-size: 1.2rem !important;
    }
    
    .timer-label {
        font-size: 0.7rem !important;
    }

    /* جعل المنتجات في سطر واحد مع تمرير أفقي */
    .offer-products {
        display: flex !important;
        flex-wrap: nowrap !important;
        overflow-x: auto !important;
        scroll-snap-type: x mandatory !important;
        gap: 10px !important;
        padding-bottom: 15px !important;
        margin: 0 -15px !important;
    }
    
    .offer-products .col-md-4 {
        flex: 0 0 85% !important;
        max-width: 85% !important;
        scroll-snap-align: start !important;
    }

    /* تعديل حجم بطاقات المنتجات */
    .offer-product {
        height: auto !important;
    }
    
    .offer-product .carousel {
        height: auto !important;
    }
    
    .offer-product-title {
        font-size: 0.9rem !important;
    }
    
    .offer-product-price {
        font-size: 1.1rem !important;
    }
    
    .offer-product-old-price {
        font-size: 0.8rem !important;
    }
    
    .offer-btn {
        padding: 5px 15px !important;
        font-size: 0.8rem !important;
    }
}

/* تأثيرات حركية (أضفها في القسم العام) */
.offer-product {
    transition: all 0.3s ease;
    transform: scale(0.98);
}

.offer-product:hover {
    transform: scale(1.02);
    box-shadow: 0 10px 20px rgba(0,0,0,0.15) !important;
}

/* تأثير التمرير السلس */
.offer-products {
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
}

/* أنماط محسنة لزر السلة */
.cart-icon-container {
    position: fixed;
    top: 80px;
    left: 20px;
    z-index: 1000;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.cart-btn {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: var(--primary);
    color: white;
    border: none;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    transition: all 0.3s ease;
    text-decoration: none;
    position: relative;
    margin-left: 1vh;
    top: 2vh;
}

[data-theme="dark"] .cart-btn {
    background: linear-gradient(135deg, var(--primary), var(--primary-dark));
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

.cart-btn:hover {
    transform: scale(1.1);
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.3);
    background-color: var(--primary-dark);
}

.cart-btn i {
    font-size: 1.5rem;
}

#cartCount {
    position: absolute;
    top: -5px;
    right: -5px;
    background-color: var(--danger);
    color: white;
    border-radius: 50%;
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.8rem;
    font-weight: bold;
    border: 2px solid white;
    animation: pulse 1.5s infinite;
}

.cart-label {
    margin-top: 8px;
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--dark);
    background: rgba(255, 255, 255, 0.9);
    padding: 4px 8px;
    border-radius: 12px;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
}

[data-theme="dark"] .cart-label {
    background: rgba(255, 255, 255, 0.1);
    color: var(--dark);
}

/* تأثير النبض للعداد */
@keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.1); }
    100% { transform: scale(1); }
}

/* تحسينات للشاشات الصغيرة */
@media (max-width: 768px) {
    .cart-icon-container {
        top: 70px;
        left: 15px;
    }
    
    .cart-btn {
        width: 50px;
        height: 50px;
    }
    
    .cart-btn i {
        font-size: 1.3rem;
    }
    
    #cartCount {
        width: 20px;
        height: 20px;
        font-size: 0.7rem;
    }
    
    .cart-label {
        font-size: 0.8rem;
        padding: 3px 6px;
    }
}

/* تحسينات للشاشات الصغيرة جدًا */
@media (max-width: 576px) {
    .cart-icon-container {
        top: 65px;
        left: 10px;
    }
    
    .cart-btn {
        width: 45px;
        height: 45px;
    }
    
    .cart-btn i {
        font-size: 1.2rem;
    }
    
    #cartCount {
        width: 18px;
        height: 18px;
        font-size: 0.65rem;
        top: -3px;
        right: -3px;
    }
    
    .cart-label {
        display: none; /* إخفاء النص على الشاشات الصغيرة جدًا */
    }
}

/* منع التداخل مع زر القائمة على الجوال */
@media (max-width: 991px) {
    .navbar-toggler {
        z-index: 1001; /* تأكد من أن زر القائمة فوق زر السلة */
    }
}
/* ============== أنماط سلة المشتريات ============== */
.offcanvas {
    font-family: 'Tajawal', sans-serif;
    transition: transform 0.3s ease-in-out;
}

[data-theme="dark"] .offcanvas {
    background: var(--light) !important;
}

.offcanvas-header {
    background-color: var(--primary);
    color: white;
    padding: 1rem 1.5rem;
    border-bottom: 2px solid var(--primary-dark);
}

[data-theme="dark"] .offcanvas-header {
    background: linear-gradient(135deg, var(--primary), var(--primary-dark));
}

.offcanvas-title {
    font-weight: 700;
    font-size: 1.3rem;
}

.offcanvas-body {
    padding: 0;
    display: flex;
    flex-direction: column;
    background-color: #f8f9fa;
}

#cartItems {
    flex: 1;
    overflow-y: auto;
    padding: 1rem;
}

.cart-item {
    background: white;
    border-radius: 10px;
    padding: 15px;
    margin-bottom: 15px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    transition: all 0.3s ease;
    border: 1px solid #eee;
}

[data-theme="dark"] .cart-item {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--border-color);
}

.cart-item:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);
}

.cart-item-img {
    width: 80px;
    height: 80px;
    object-fit: contain;
    border-radius: 8px;
    background-color: #f8f8f8;
    padding: 5px;
}

.cart-item-details {
    flex: 1;
}

.cart-item-title {
    font-weight: 600;
    margin-bottom: 5px;
    color: var(--dark);
    font-size: 0.95rem;
}

.cart-item-price {
    color: var(--primary);
    font-weight: 700;
    margin-bottom: 10px;
    font-size: 1rem;
}

.quantity-controls {
    display: flex;
    align-items: center;
    gap: 8px;
}

.quantity-btn {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    border: 1px solid #ddd;
    background: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    transition: all 0.2s;
}

.quantity-btn:hover {
    background-color: var(--primary);
    color: white;
    border-color: var(--primary);
}

.quantity-input {
    width: 40px;
    text-align: center;
    border: 1px solid #ddd;
    border-radius: 5px;
    padding: 5px;
    font-weight: 600;
}

[data-theme="dark"] .quantity-input {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--border-color);
    color: var(--dark);
}

.remove-item {
    background: none;
    border: none;
    color: #dc3545;
    font-size: 1.1rem;
    padding: 5px;
    border-radius: 5px;
    transition: all 0.2s;
}

.remove-item:hover {
    background-color: rgba(220, 53, 69, 0.1);
    transform: scale(1.1);
}

.cart-summary {
    background: white;
    padding: 1.5rem;
    box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.05);
    border-top: 2px solid #eee;
}

[data-theme="dark"] .cart-summary {
    background: rgba(255, 255, 255, 0.05);
    border-top: 1px solid var(--border-color);
}

.cart-summary .d-flex {
    font-size: 1.1rem;
    margin-bottom: 1rem;
}

.cart-summary span:last-child {
    font-weight: 800;
    color: var(--primary);
    font-size: 1.2rem;
}

#checkoutBtn:disabled {
    background-color: #ccc;
    border-color: #ccc;
    cursor: not-allowed;
}

#checkoutBtn:not(:disabled):hover {
    background-color: var(--primary-dark);
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(255, 107, 53, 0.3);
}

/* رسالة السلة الفارغة */
#emptyCartMessage {
    color: var(--gray);
    padding: 3rem 1rem;
}

#emptyCartMessage i {
    color: #ddd;
    font-size: 4rem;
}

/* تحسينات للجوال */
@media (max-width: 768px) {
    .offcanvas {
        width: 85% !important;
    }
    
    .cart-item {
        padding: 12px;
    }
    
    .cart-item-img {
        width: 70px;
        height: 70px;
    }
    
    .cart-item-title {
        font-size: 0.9rem;
    }
    
    .quantity-btn {
        width: 28px;
        height: 28px;
    }
    
    .quantity-input {
        width: 35px;
    }
}

/* تأثيرات للعناصر عند الإضافة */
@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateX(30px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.cart-item {
    animation: slideIn 0.3s ease-out;
}
.slideshow-container1 { position: relative; max-width: 1000px; margin: auto; overflow: hidden;margin-top: 5px; }
.mySlides1 { display: none; }
.fade1 { animation: fade1 1.5s; }
@keyframes fade1 { from {opacity: .4} to {opacity: 1} }
.prev1, .next1 {
  cursor: pointer; position: absolute; top: 50%; transform: translateY(-50%);
  padding: 16px; color: white; background: rgba(0,0,0,0.5); font-size: 18px; border-radius: 3px;
}
.prev1 , .next1 { z-index: 10;}
.prev1 { left: 0; }
.next1 { right: 0; }
.dot1 {
  cursor: pointer; height: 3px; width: 15px; margin: 0 0px;
  background: #bbb; border-radius: 50%; display: inline-block;
}
.active1, .dot1:hover { background: #717171; }
.slideshow-container1 img {
  width: 100%;         /* تاخذ كامل عرض الحاوية */
  height: auto;        /* تحافظ على النسبة */
  object-fit: contain; /* أو cover حسب اللي يعجبك */
  display: block;      /* تشيل الفراغات تحت الصورة */
}

/* شريط التمرير للدارك مود */
[data-theme="dark"] ::-webkit-scrollbar {
    width: 10px;
}

[data-theme="dark"] ::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.05);
}

[data-theme="dark"] ::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 5px;
}

[data-theme="dark"] ::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.2);
}

/* تأثيرات انتقال سلسة */
body,
.navbar,
.product-card,
.review-card,
.contact-card,
.offer-product,
.cart-item,
.form-control,
.form-select,
.category-btn {
    transition: background-color 0.3s ease, 
                border-color 0.3s ease, 
                color 0.3s ease, 
                transform 0.3s ease,
                box-shadow 0.3s ease;
}
</style>
</head>

<body>
<nav class="navbar navbar-expand-lg navbar-light fixed-top bg-white shadow-sm">
    <div class="container">
        <a class="navbar-brand" href="#">
            <img src="https://i.postimg.cc/7P7BK44r/f525e1dd-9f2c-4160-aed1-882a8b28b75c-20250703-131500-0000.png" 
                 alt="Robuste Logo" class="d-inline-block align-top" 
                 style="width: 180px; height: auto; max-height: 50px; object-fit:fill;">
            <span class="d-none d-lg-inline fw-bold fs-4 ms-2" style="color: #FF6B35;">ROBUSTE eulma</span>
        </a>
        
        <!-- زر دارك مود بدلاً من زر اللغة -->
        <div class="theme-toggle" id="themeToggle">
            <i class="bi bi-moon-fill"></i>
        </div>
        
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>
        
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav me-auto">
                <li class="nav-item mx-2"><a class="nav-link active" href="#">الرئيسية</a></li>
                <li class="nav-item"><a class="nav-link" href="#products">المنتجات</a></li>
                <li class="nav-item"><a class="nav-link" href="#reviews">آراء العملاء</a></li>
                <li class="nav-item"><a class="nav-link" href="#contact">اتصل بنا</a></li>
            </ul>
        </div>
        
        <!-- أيقونة السلة مع عداد -->
        <div class="cart-icon-container ms-lg-4">
            <span class="cart-label d-none d-lg-inline">panier</span>
            <a href="#" class="cart-btn position-relative" onclick="toggleCart(); return false;">
                <i class="bi bi-cart3"></i>
                <span class="position-absolute badge rounded-pill bg-danger" id="cartCount">0</span>
            </a>
        </div>
    </div>
</nav>

<div class="status-indicator" id="statusIndicator" style="display: none;">
    <div class="alert alert-dismissible fade show" role="alert">
        <span id="statusMessage"></span>
        <button type="button" class="btn-close" onclick="hideStatus()"></button>
    </div>
</div>

<!-- نافذة الطلب المبسطة -->
<div class="modal fade order-modal-simple" id="orderModalSimple" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">تأكيد الطلب</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="order-summary-simple">
                    <div class="product-summary">
                        <img id="simpleProductImage" class="product-summary-img" src="" alt="صورة المنتج">
                        <div class="product-summary-details">
                            <h5 id="simpleProductNameDisplay"></h5>
                            <div class="price" id="simpleProductPrice"></div>
                        </div>
                    </div>
                    <div class="total-price-simple">
                        <div class="label">المجموع الكلي</div>
                        <div class="value" id="simpleTotalPrice">0 د.ج</div>
                    </div>
                </div>
                
                <form id="orderFormSimple">
                    <input type="hidden" id="simpleProductId">
                    <input type="hidden" id="simpleProductName">
                    <input type="hidden" id="simpleProductPriceValue">
                    
                    <div class="mb-3">
                        <label for="simpleFullName" class="form-label">الاسم الكامل <span class="text-danger">*</span></label>
                        <input type="text" class="form-control" id="simpleFullName" required placeholder="أدخل اسمك الكامل">
                    </div>
                    
                    <div class="mb-3">
                        <label for="simplePhone" class="form-label">رقم الهاتف <span class="text-danger">*</span></label>
                        <input type="tel" class="form-control" id="simplePhone" pattern="[0]{1}[5-7]{1}[0-9]{8}" required placeholder="مثال: 0551234567">
                        <small class="text-muted">رقم هاتف مكون من 10 أرقام ويبدأ بـ 05 أو 06 أو 07</small>
                    </div>
                    
                    <div class="mb-4">
                        <label for="simpleWilaya" class="form-label">الولاية <span class="text-danger">*</span></label>
                        <select class="form-select" id="simpleWilaya" required>
                            <option value="">اختر ولايتك</option>
                        </select>
                    </div>
                    
                    <button type="button" class="confirm-order-btn" onclick="submitSimpleOrder()">
                        <i class="bi bi-bag-check"></i>
                        تأكيد الطلب والدفع
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>

<section class="hero-container position-relative">
    <div class="hero-image-container">
        <img width="3780" height="1890" src="images/banner.webp" alt="أجهزة منزلية" class="hero-image">
        <div class="image-overlay"></div>
    </div>
    <div class="hero-content container text-center position-absolute top-50 start-50 translate-middle">
        <h1 class="hero-title">Des appareils ménagers qui simplifient votre vie</h1>
        <p class="hero-subtitle">Haute qualité à des prix adaptés à chaque foyer algérien avec service de livraison rapide et garantie de 2 ans</p>
        <div>
            <a href="#products" class="btn btn-orange btn-lg px-4 me-2"><i class="bi bi-cart"></i> Acheter maintenant </a>
            <a href="#contact" class="btn btn-outline-light btn-lg px-4"><i class="bi bi-headset"></i> Contactez-nous</a>
        </div>
    </div>
</section>

<div class="slideshow-container1">
    <div class="mySlides1 fade1">
        <img src="images/signal-2025-08-21-103443_002.webp" style="width:100%" alt="إعلان 1">
    </div>
    <div class="mySlides1 fade1">
        <img src="images/signal-2025-08-21-103443_003.webp" style="width:100%" alt="إعلان 2">
    </div>
    <div class="mySlides1 fade1">
        <img src="images/signal-2025-08-21-103443_004.webp" style="width:100%" alt="إعلان 3">
    </div>
    <div class="mySlides1 fade1">
        <img src="images/signal-2025-08-21-103443_005.webp" style="width:100%" alt="إعلان 4">
    </div>
    <div class="mySlides1 fade1">
        <img src="images/4_20250820_152310_0003.webp" style="width:100%" alt="إعلان 5">
    </div>
    <a class="prev1" onclick="plusSlides1(-1)">&#10094;</a>
    <a class="next1" onclick="plusSlides1(1)">&#10095;</a>
</div>

<br>
<div style="text-align:center">
    <span class="dot1" onclick="currentSlide1(1)"></span>
    <span class="dot1" onclick="currentSlide1(2)"></span>
    <span class="dot1" onclick="currentSlide1(3)"></span>
    <span class="dot1" onclick="currentSlide1(4)"></span>
</div>

<section class="offers-section">
    <div class="container position-relative">
        <h2 class="offers-title">Offres spéciales</h2>
        <p class="offer-subtitle">Profitez de nos offres exceptionnelles sur les meilleurs appareils électriques avec des remises allant jusqu'à 20% pour une durée limitée</p>

        <div class="offer-timer">
            <div class="timer-title">L'offre se termine dans:</div>
            <div class="timer-content">
                <div class="timer-item">
                    <div class="timer-value" id="days">03</div>
                    <div class="timer-label">jours</div>
                </div>
                <div class="timer-item">
                    <div class="timer-value" id="hours">12</div>
                    <div class="timer-label">heures</div>
                </div>
                <div class="timer-item">
                    <div class="timer-value" id="minutes">45</div>
                    <div class="timer-label">minutes</div>
                </div>
                <div class="timer-item">
                    <div class="timer-value" id="seconds">30</div>
                    <div class="timer-label">secondes</div>
                </div>
            </div>
        </div>

        <div class="row offer-products">
            <div class="col-md-4">
                <div class="offer-product">
                    <div class="offer-product-discount">Quantité limitée</div>
                    <div class="offer-product-badge">Le plus demandé</div>

                    <div id="carousel-offer-1" class="carousel slide" data-bs-ride="carousel">
                        <div class="carousel-inner">
                            <div class="carousel-item active">
                                <img src="images/Robuste Defroisseur 1.jpg" class="d-block w-100" alt="Defroisseur" height="800" width="800">
                            </div>
                            <div class="carousel-item">
                                <img loading="lazy" src="images/Robuste Defroisseur 2.jpg" class="d-block w-100" alt="Defroisseur" height="800" width="800">
                            </div>
                            <div class="carousel-item">
                                <img loading="lazy" src="images/Robuste Defroisseur.jpg" class="d-block w-100" alt="Defroisseur" height="800" width="800">
                            </div>
                        </div>
                    </div>

                    <div class="offer-product-content">
                        <h4 class="offer-product-title">Defroisseur Vapeur</h4>
                        <div class="offer-product-price">6500 د.ج</div>
                        <div class="offer-product-old-price">7000 د.ج</div>
                        <a href="product.html?pid=100" class="offer-btn" style="display: block; text-decoration: none; text-align: center; color: inherit;">
                            Voir le produit
                        </a>
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <div class="offer-product">
                    <div class="offer-product-discount">خصم 10%</div>

                    <div id="carousel-offer-2" class="carousel slide" data-bs-ride="carousel">
                        <div class="carousel-inner">
                            <div class="carousel-item active">
                                <img loading="lazy" src="images/aspirateur a main 1.jpg" class="d-block w-100" alt="ASPIRATEUR SOUFFLEUR A MAIN 1" height="800" width="800">
                            </div>
                            <div class="carousel-item">
                                <img loading="lazy" src="images/aspirateur a main 2.jpg" class="d-block w-100" alt="ASPIRATEUR SOUFFLEUR A MAIN 2" height="800" width="800">
                            </div>
                        </div>
                    </div>

                    <div class="offer-product-content">
                        <h4 class="offer-product-title">ASPIRATEUR SOUFFLEUR A MAIN</h4>
                        <div class="offer-product-price">5000 د.ج</div>
                        <div class="offer-product-old-price">5600 د.ج</div>
                        <a href="product.html?pid=101" class="offer-btn" style="display: block; text-decoration: none; text-align: center; color: inherit;">
                            Voir le produit
                        </a>
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <div class="offer-product">
                    <div class="offer-product-discount">خصم 20%</div>
                    <div class="offer-product-badge">Nouveau</div>

                    <div id="carousel-offer-3" class="carousel slide" data-bs-ride="carousel">
                        <div class="carousel-inner">
                            <div class="carousel-item active">
                                <img loading="lazy" src="images/NETTOYEUR DE TACHES 4 EN 1.jpg" class="d-block w-100" alt="NETTOYEUR DE TACHES 4 EN 1" height="800" width="800">
                            </div>
                            <div class="carousel-item">
                                <img loading="lazy" src="images/NETTOYEUR DE TACHES 4 EN 1 robuste.jpg" class="d-block w-100" alt="NETTOYEUR DE TACHES 4 EN 1" height="800" width="800">
                            </div>
                        </div>
                    </div>

                    <div class="offer-product-content">
                        <h4 class="offer-product-title">NETTOYEUR DE TACHES 4 EN 1</h4>
                        <div class="offer-product-price">23,500 د.ج</div>
                        <div class="offer-product-old-price">25,000 د.ج</div>
                        <a href="product.html?pid=102" class="offer-btn" style="display: block; text-decoration: none; text-align: center; color: inherit;">
                            Voir le produit
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section id="products" class="py-5">
    <div class="container">
        <h2 class="section-title">أحدث Produits</h2>
        
        <div class="categories-filter mb-5">
            <div class="d-flex flex-wrap justify-content-center gap-2">
                <button class="btn btn-outline-primary category-btn active" data-category="all">Tous</button>
                <button class="btn btn-outline-primary category-btn" data-category="coiffure">Soins capillaires</button>
                <button class="btn btn-outline-primary category-btn" data-category="cuisine">Appareils de cuisine</button>
                <button class="btn btn-outline-primary category-btn" data-category="beauté">Soins personnels</button>
                <button class="btn btn-outline-primary category-btn" data-category="maison">Électroménager</button>
                <button class="btn btn-outline-primary category-btn" data-category="jardin">Jardin</button>
                <button class="btn btn-outline-primary category-btn" data-category="café">Machines à café</button>
            </div>
        </div>
        
        <div class="row" id="productsContainer"></div>
    </div>
</section>

<section id="reviews" class="py-5 bg-light">
    <div class="container">
        <h2 class="section-title">Avis clients</h2>
        <div class="row">
            <div class="col-md-4 mb-4">
                <div class="review-card">
                    <div class="d-flex">
                        <img src="https://api.dicebear.com/7.x/initials/svg?seed=Ahmed%20Ben" class="rounded-circle me-3" width="60" height="60" alt="عميل">
                        <div>
                            <h5 class="mb-0">عمر</h5>
                            <div class="text-warning">
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                            </div>
                        </div>
                    </div>
                    <p class="mt-3">"جودة المنتج ممتازة والتوصيل كان في الوقت المحدد، شكراً لفريق Robuste!"</p>
                </div>
            </div>
            <div class="col-md-4 mb-4">
                <div class="review-card">
                    <div class="d-flex">
                        <img src="https://api.dicebear.com/7.x/initials/svg?seed=Rhmed%20Bn" class="rounded-circle me-3" width="60" height="60" alt="عميل">
                        <div>
                            <h5 class="mb-0">Rose Blanch</h5>
                            <div class="text-warning">
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-half"></i>
                            </div>
                        </div>
                    </div>
                    <p class="mt-3">"Je suis ravie de la marque Robuste, j'utilise vos produits depuis pas mal d'années."</p>
                </div>
            </div>
            <div class="col-md-4 mb-4">
                <div class="review-card">
                    <div class="d-flex">
                        <img src="https://api.dicebear.com/7.x/initials/svg?seed=Ahmed%20Hen" class="rounded-circle me-3" width="60" height="60" alt="عميل">
                        <div>
                            <h5 class="mb-0">محمد</h5>
                            <div class="text-warning">
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                            </div>
                        </div>
                    </div>
                    <p class="mt-3">"الدفع عند الاستلام مريح جداً، والمنتج يعمل بكفاءة عالية، أنصح بالتعامل معهم."</p>
                </div>
            </div>
        </div>
    </div>
</section>

<section id="contact" class="py-5">
    <div class="container">
        <h2 class="section-title">Contactez-nous</h2>
        <div class="row">
            <div class="col-md-6 mb-4">
                <div class="contact-card h-100">
                    <h4 class="mb-4">Coordonnées</h4>
                    <div class="d-flex mb-3">
                        <div class="me-3 text-primary"><i class="bi bi-geo-alt fs-4"></i></div>
                        <div>
                            <h5>Adresse</h5>
                            <p class="mb-0">شارع بورقعة المنور، 426 قطعة، العلمة، سطيف، الجزائر</p>
                        </div>
                    </div>
                    <div class="d-flex mb-3">
                        <div class="me-3 text-primary"><i class="bi bi-telephone fs-4"></i></div>
                        <div>
                            <h5>Téléphone</h5>
                            <p class="mb-0">0656360457</p>
                        </div>
                    </div>
                    <div class="d-flex mb-3">
                        <div class="me-3 text-primary"><i class="bi bi-envelope fs-4"></i></div>
                        <div>
                            <h5>E-mail</h5>
                            <p class="mb-0">laidaouih@gmail.com</p>
                        </div>
                    </div>
                    <div class="d-flex">
                        <div class="me-3 text-primary"><i class="bi bi-clock fs-4"></i></div>
                        <div>
                            <h5>Heures d'ouverture</h5>
                            <p class="mb-0">Tous les jours de 7h00 à 16h00</p>
                        </div>
                    </div>
                    <div class="mt-4">
                        <h5>Suivez-nous sur</h5>
                        <div class="d-flex mt-3">
                            <a href="https://www.facebook.com/share/19QooaXfy8/" class="social-icon">
                                <i class="bi bi-facebook"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6 mb-4">
                <div class="contact-card h-100">
                    <h4 class="mb-4">Envoyez-nous un message</h4>
                    <form id="contactForm">
                        <div class="mb-3">
                            <label for="contactName" class="form-label">Votre nom <span class="text-danger">*</span></label>
                            <input type="text" class="form-control" id="contactName" required>
                        </div>
                        <div class="mb-3">
                            <label for="contactEmail" class="form-label">Votre e-mail <span class="text-danger">*</span></label>
                            <input type="email" class="form-control" id="contactEmail" required>
                        </div>
                        <div class="mb-3">
                            <label for="contactPhone" class="form-label">Numéro de téléphone</label>
                            <input type="tel" class="form-control" id="contactPhone">
                        </div>
                        <div class="mb-3">
                            <label for="contactMessage" class="form-label">Votre message <span class="text-danger">*</span></label>
                            <textarea class="form-control" id="contactMessage" rows="4" required></textarea>
                        </div>
                        <button type="submit" class="btn btn-orange w-100">
                            <span id="contactSubmitText">Envoyer le message</span>
                            <span id="contactSpinner" class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true"></span>
                        </button>
                    </form>
                </div>
            </div>
        </div>
        <div class="row mt-4">
            <div class="col-12">
                <div class="contact-card" style="cursor: pointer;">
                    <h4 class="mb-4">Emplacement du magasin</h4>
                    <a href="https://maps.app.goo.gl/Cpk1L8fAadgE9pB76" target="_blank" style="display: block; text-decoration: none;">
                        <div class="map-container" style="position: relative; width: 100%; height: 300px;">
                            <iframe 
                                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3190.123456789012!2d5.7129892!3d36.1524645!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x12f2d5f1a5a5a5a5%3A0x12f2d5f1a5a5a5a5!2sROBUSTE%20EL%20EULMA!5e0!3m2!1sen!2sdz!4v1621234567890!5m2!1sen!2sdz" 
                                width="100%" 
                                height="100%" 
                                style="border:0; border-radius: 8px; pointer-events: none;" 
                                allowfullscreen="" 
                                loading="lazy" 
                                referrerpolicy="no-referrer-when-downgrade" 
                                title="موقع متجر ROBUSTE EL EULMA">
                            </iframe>
                        </div>
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

<footer class="py-5 bg-dark text-white">
    <div class="container">
        <div class="row">
            <div class="col-lg-4 mb-4">
                <h5 class="mb-3">À propos de ROBUSTE</h5>
                <p>Magasin spécialisé dans l'électroménager de haute qualité à prix compétitifs. Nous proposons les meilleurs produits et une livraison rapide.</p>
                <div class="mt-3">
                    <a href="https://www.facebook.com/share/19QooaXfy8/" class="social-icon">
                        <i class="bi bi-facebook"></i>
                    </a>
                </div>
            </div>
            <div class="col-lg-2 col-md-4 mb-4">
                <h5 class="mb-3">Liens rapides</h5>
                <ul class="list-unstyled">
                    <li class="mb-2"><a href="#" class="text-white text-decoration-none">Accueil</a></li>
                    <li class="mb-2"><a href="#products" class="text-white text-decoration-none">Produits</a></li>
                    <li class="mb-2"><a href="#reviews" class="text-white text-decoration-none">آراء العملاء</a></li>
                    <li class="mb-2"><a href="#contact" class="text-white text-decoration-none">Contactez-nous</a></li>
                </ul>
            </div>
            <div class="col-lg-3 col-md-4 mb-4">
                <h5 class="mb-3">Service client</h5>
                <ul class="list-unstyled">
                    <li class="mb-2"><a href="#" class="text-white text-decoration-none">FAQ</a></li>
                    <li class="mb-2"><a href="#" class="text-white text-decoration-none">Modes de paiement</a></li>
                    <li class="mb-2"><a href="#" class="text-white text-decoration-none">Conditions de garantie</a></li>
                </ul>
            </div>
            <div class="col-lg-3 col-md-4 mb-4">
                <h5 class="mb-3">Abonnez-vous à notre page</h5>
                <p>Abonnez-vous pour recevoir les dernières offres</p>
                <div class="mt-3">
                    <a href="https://www.facebook.com/share/19QooaXfy8/" class="btn btn-orange w-100" target="_blank">S'abonner</a>
                </div>
            </div>
        </div>
        <hr class="my-4 bg-light">
        <div class="row">
            <div class="col-md-6 text-center text-md-start mb-3 mb-md-0">
                <p class="mb-0">&copy; 2025 ROBUSTE. Tous droits réservés.</p>
            </div>
            <div class="col-md-6 text-center text-md-end">
                <div class="d-flex flex-column flex-md-row align-items-center justify-content-md-end">
                    <p class="mb-2 mb-md-0 me-md-3">Paiement par carte gold disponible</p>
                    <img src="https://i.postimg.cc/bY06X2YN/logo-round.png" alt="Modes de paiement" style="width: 30px; height: auto;">
                </div>
            </div>
        </div>
    </div>
</footer>

<a href="https://wa.me/213656360457" class="whatsapp-btn" target="_blank">
    <i class="bi bi-whatsapp"></i>
</a>

<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<script>
// ============== تهيئة Firebase ==============
const firebaseConfig = {
    apiKey: "AIzaSyBTrnKCYOtfSSDYtmVQbzP2HcwgkLT565Y",
    authDomain: "robuste-c8e0f.firebaseapp.com",
    projectId: "robuste-c8e0f",
    storageBucket: "robuste-c8e0f.appspot.com",
    messagingSenderId: "975609984963",
    appId: "1:975609984963:web:a481efb493a88d7bc7af76",
    measurementId: "G-DWT7MZN028"
};

// تهيئة Firebase
firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

// تهيئة EmailJS
(function() {
    emailjs.init("k77vdaUWPpnLrfTnS");
})();

// قائمة الولايات الجزائرية
const wilayas = [
    "أدرار", "الشلف", "الأغواط", "أم البواقي", "باتنة", "بجاية", "بسكرة", "بشار", "البليدة",
    "البويرة", "تمنراست", "تبسة", "تلمسان", "تيارت", "تيزي وزو", "الجزائر", "الجلفة", "جيجل",
    "سطيف", "سعيدة", "سكيكدة", "سيدي بلعباس", "عنابة", "قالمة", "قسنطينة", "المدية", "مستغانم",
    "المسيلة", "معسكر", "ورقلة", "وهران", "البيض", "إليزي", "برج بوعريريج", "بومرداس", "الطارف",
    "تيندوف", "تيسمسيلت", "الوادي", "خنشلة", "سوق أهراس", "تيبازة", "ميلة", "عين الدفلى", "النعامة",
    "عين تموشنت", "غرداية", "غليزان"
];

// ============== المتغيرات العامة ==============
let orderModal = null;
let simpleOrderModal = null;
let cart = [];

// ============== نظام دارك مود ==============
function initDarkMode() {
    const themeToggle = document.getElementById('themeToggle');
    const themeIcon = themeToggle.querySelector('i');
    
    // التحقق من التفضيل السابق
    const savedTheme = localStorage.getItem('robuste_theme') || 'light';
    document.documentElement.setAttribute('data-theme', savedTheme);
    updateThemeIcon(savedTheme);
    
    // تبديل السمة
    themeToggle.addEventListener('click', function() {
        const currentTheme = document.documentElement.getAttribute('data-theme');
        const newTheme = currentTheme === 'light' ? 'dark' : 'light';
        
        document.documentElement.setAttribute('data-theme', newTheme);
        localStorage.setItem('robuste_theme', newTheme);
        updateThemeIcon(newTheme);
        
        // تأثير بسيط عند التبديل
        this.style.transform = 'rotate(360deg)';
        setTimeout(() => {
            this.style.transform = '';
        }, 300);
    });
    
    function updateThemeIcon(theme) {
        if (theme === 'dark') {
            themeIcon.className = 'bi bi-sun-fill';
        } else {
            themeIcon.className = 'bi bi-moon-fill';
        }
    }
}

// ============== نظام المنتجات الديناميكي ==============
async function loadAndDisplayProducts(category = 'all') {
    try {
        const response = await fetch('products.json');
        if (!response.ok) {
            throw new Error('Erreur lors du chargement des produits');
        }
        const products = await response.json();
        
        // تصفية المنتجات حسب الفئة
        const filteredProducts = category === 'all' 
            ? products 
            : products.filter(product => product.category === category);
        
        renderProducts(filteredProducts);
    } catch (error) {
        console.error('Erreur:', error);
        showStatus('Erreur lors du chargement des produits', 'error');
    }
}

// دالة عرض المنتجات مع بطاقات تفاعلية
function renderProducts(products) {
    const container = document.getElementById('productsContainer');
    if (!container) return;
    
    container.innerHTML = '';
    
    if (products.length === 0) {
        container.innerHTML = '<div class="col-12 text-center text-muted py-5">Aucun produit trouvé</div>';
        return;
    }
    
    products.forEach(product => {
        const discountBadge = product.old_price && product.old_price > product.price ? `
            <div class="discount-badge">
                خصم ${Math.round(((product.old_price - product.price) / product.old_price) * 100)}%
            </div>
        ` : '';
        
        const oldPrice = product.old_price && product.old_price > product.price ? `
            <small dir="ltr" class="text-decoration-line-through text-muted me-2">${product.old_price.toLocaleString()} DA</small>
        ` : '';
        
        const productBadge = product.badge ? `
            <div class="product-badge">
                ${product.badge}
            </div>
        ` : '';
        
        // إنشاء كارت المنتج التفاعلي
        const productCard = document.createElement('a');
        productCard.href = `product.html?pid=${product.id}`;
        productCard.className = 'col-6 col-md-4 col-lg-3 mb-3 text-decoration-none';
        productCard.style.cssText = 'text-decoration: none !important; color: inherit !important;';
        
        productCard.innerHTML = `
            <div class="product-card h-100 position-relative">
                ${productBadge}
                ${discountBadge}
                <div class="image-container">
                    <img src="${product.images[0]}" class="product-image" alt="${product.title}" loading="lazy">
                </div>
                <div class="product-info">
                    <h5 class="product-title">${product.title}</h5>
                    <div class="price-section">
                        ${oldPrice}
                        <div class="current-price">${product.price.toLocaleString()} DA</div>
                    </div>
                    <button class="buy-btn add-to-cart-simple-btn" data-id="${product.id}">
                        <i class="bi bi-cart-plus"></i> أضف إلى السلة
                    </button>
                </div>
            </div>
        `;
        
        container.appendChild(productCard);
    });
    
    // إضافة معالج الأحداث لأزرار إضافة إلى السلة
    setupSimpleAddToCartButtons();
}

// ============== نافذة الطلب المبسطة ==============
function setupSimpleOrderModal() {
    // تعبئة قائمة الولايات للنافذة المبسطة
    const wilayaSelect = document.getElementById('simpleWilaya');
    wilayas.forEach(wilaya => {
        const option = document.createElement('option');
        option.value = wilaya;
        option.textContent = wilaya;
        wilayaSelect.appendChild(option);
    });
    
    // تهيئة النافذة المنبثقة
    simpleOrderModal = new bootstrap.Modal(document.getElementById('orderModalSimple'));
}

// عرض نافذة الطلب المبسطة لمنتج واحد
function showSimpleOrderModal(product) {
    if (!product) return;
    
    document.getElementById('simpleProductId').value = product.id || '';
    document.getElementById('simpleProductName').value = product.title || '';
    document.getElementById('simpleProductPriceValue').value = product.price || 0;
    document.getElementById('simpleProductImage').src = product.images?.[0] || '';
    document.getElementById('simpleProductNameDisplay').textContent = product.title || '';
    document.getElementById('simpleProductPrice').textContent = `${(product.price || 0).toLocaleString()} DA`;
    document.getElementById('simpleTotalPrice').textContent = `${(product.price || 0).toLocaleString()} DA`;
    
    // إعادة تعيين النموذج
    document.getElementById('orderFormSimple').reset();
    
    // إظهار النافذة
    if (simpleOrderModal) {
        simpleOrderModal.show();
    }
}

// إرسال طلب من النافذة المبسطة
async function submitSimpleOrder() {
    const productId = document.getElementById('simpleProductId').value;
    const productName = document.getElementById('simpleProductName').value;
    const productPrice = parseFloat(document.getElementById('simpleProductPriceValue').value);
    const fullName = document.getElementById('simpleFullName').value;
    const phone = document.getElementById('simplePhone').value;
    const wilaya = document.getElementById('simpleWilaya').value;
    
    // التحقق من صحة البيانات
    if (!fullName || !phone || !wilaya) {
        showStatus('الرجاء ملء جميع الحقول المطلوبة', 'error');
        return;
    }
    
    const phoneRegex = /^0[5-7][0-9]{8}$/;
    if (!phoneRegex.test(phone)) {
        showStatus('رقم الهاتف غير صحيح. يجب أن يتكون من 10 أرقام ويبدأ بـ 05 أو 06 أو 07', 'error');
        return;
    }
    
    // إعداد بيانات الطلب
    const orderData = {
        product: {
            id: productId,
            name: productName,
            price: productPrice
        },
        customer: fullName,
        phone: phone,
        wilaya: wilaya,
        totalPrice: productPrice,
        timestamp: new Date().toISOString(),
        status: 'جديد',
        type: 'منتج واحد'
    };
    
    // عرض حالة التحميل
    showStatus('جاري معالجة طلبك...', 'loading');
    
    // تعطيل زر الإرسال أثناء المعالجة
    const confirmBtn = document.querySelector('.confirm-order-btn');
    const originalText = confirmBtn.innerHTML;
    confirmBtn.disabled = true;
    confirmBtn.innerHTML = `
        <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
        جاري المعالجة...
    `;
    
    try {
        // تخزين الطلب في Firebase
        const docRef = await db.collection('simple_orders').add(orderData);
        console.log("تم تخزين الطلب في Firebase:", docRef.id);
        
        // إرسال إيميل عبر EmailJS
        await emailjs.send("service_lc1q5k8", "template_a15g7yg", {
            order_id: docRef.id,
            customer_name: fullName,
            customer_phone: phone,
            wilaya: wilaya,
            total_price: productPrice.toLocaleString(),
            order_date: new Date().toLocaleString('ar-DZ'),
            product_name: productName,
            product_price: productPrice.toLocaleString()
        });
        
        console.log("تم إرسال إيميل تأكيد الطلب");
        
        // عرض رسالة النجاح
        showStatus(`
            <div class="text-center">
                <i class="bi bi-check-circle-fill text-success fs-1"></i>
                <h5 class="mt-2">تم تأكيد طلبك بنجاح!</h5>
                <div class="text-start mt-3">
                    <p><strong>رقم الطلب:</strong> ${docRef.id}</p>
                    <p><strong>المنتج:</strong> ${productName}</p>
                    <p><strong>المبلغ الإجمالي:</strong> ${productPrice.toLocaleString()} د.ج</p>
                    <p class="mt-3">سيتم التواصل معك على الرقم <strong>${phone}</strong> خلال 24 ساعة لتأكيد الشحن.</p>
                </div>
                <a href="https://wa.me/213656360457?text=${encodeURIComponent(
                    `استفسار عن الطلب ${docRef.id}\nالمنتج: ${productName}\nالمبلغ: ${productPrice.toLocaleString()} د.ج\nالاسم: ${fullName}\nرقم الهاتف: ${phone}`
                )}" class="btn whatsapp-contact-btn mt-2 w-100" target="_blank">
                    <i class="bi bi-whatsapp"></i> تواصل عبر واتساب
                </a>
            </div>
        `, 'success');
        
        // إغلاق النافذة وإعادة تعيين النموذج
        if (simpleOrderModal) {
            simpleOrderModal.hide();
        }
        document.getElementById('orderFormSimple').reset();
        
    } catch (error) {
        console.error('حدث خطأ:', error);
        showStatus('حدث خطأ أثناء إرسال الطلب. يرجى المحاولة مرة أخرى.', 'error');
    } finally {
        // إعادة تمكين زر الإرسال
        confirmBtn.disabled = false;
        confirmBtn.innerHTML = originalText;
    }
}

// ============== إعداد أزرار إضافة إلى السلة المبسطة ==============
function setupSimpleAddToCartButtons() {
    document.addEventListener('click', function(e) {
        // البحث عن زر إضافة إلى السلة المبسطة
        if (e.target.classList.contains('add-to-cart-simple-btn') || 
            e.target.closest('.add-to-cart-simple-btn')) {
            e.preventDefault();
            e.stopPropagation();
            
            const button = e.target.classList.contains('add-to-cart-simple-btn') ? 
                e.target : e.target.closest('.add-to-cart-simple-btn');
            const productId = button.getAttribute('data-id');
            
            // جلب بيانات المنتج من JSON
            fetch('products.json')
                .then(response => response.json())
                .then(products => {
                    const product = products.find(p => p.id == productId);
                    if (product) {
                        // عرض نافذة الطلب المبسطة
                        showSimpleOrderModal(product);
                    }
                })
                .catch(error => {
                    console.error('Error loading product:', error);
                    showStatus('Error loading product details', 'error');
                });
        }
    });
}

// ============== باقي الدوال (نفس الكود السابق) ==============
function setupCategoryFilters() {
    document.querySelectorAll('.category-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            document.querySelectorAll('.category-btn').forEach(b => {
                b.classList.remove('active');
            });
            
            this.classList.add('active');
            const category = this.dataset.category;
            loadAndDisplayProducts(category);
        });
    });
}

function loadCart() {
    try {
        const cartData = localStorage.getItem('robuste_cart');
        if (cartData) {
            cart = JSON.parse(cartData);
        }
    } catch (e) {
        console.error('خطأ في تحميل سلة المشتريات:', e);
        cart = [];
    }
}

function updateCartCount() {
    const cartCount = document.getElementById('cartCount');
    if (cartCount) {
        const count = cart.reduce((total, item) => total + (item.quantity || 0), 0);
        cartCount.textContent = count;
    }
}

function showStatus(message, type) {
    const indicator = document.getElementById('statusIndicator');
    const messageElement = document.getElementById('statusMessage');
    
    if (!indicator || !messageElement) return;
    
    messageElement.innerHTML = message;
    const alert = indicator.querySelector('.alert');
    alert.className = 'alert alert-dismissible fade show';
    
    switch (type) {
        case 'success':
            alert.classList.add('alert-success', 'order-confirmation');
            break;
        case 'error':
            alert.classList.add('alert-danger', 'order-error');
            break;
        case 'loading':
            alert.classList.add('alert-info');
            messageElement.innerHTML = `
                <span class="spinner-border spinner-border-sm me-2" role="status"></span>
                ${message}
            `;
            break;
        default:
            alert.classList.add('alert-info');
    }
    
    indicator.style.display = 'block';
    
    if (type === 'success') {
        setTimeout(hideStatus, 5000);
    }
}

function hideStatus() {
    const indicator = document.getElementById('statusIndicator');
    if (indicator) {
        indicator.style.display = 'none';
    }
}

// ============== السلايدر ==============
let slideIndex1 = 1;
showSlides1(slideIndex1);

function plusSlides1(n) {
    showSlides1(slideIndex1 += n);
}

function currentSlide1(n) {
    showSlides1(slideIndex1 = n);
}

function showSlides1(n) {
    const slides = document.getElementsByClassName("mySlides1");
    const dots = document.getElementsByClassName("dot1");

    if (n > slides.length) slideIndex1 = 1;
    if (n < 1) slideIndex1 = slides.length;

    for (let s of slides) s.style.display = "none";
    for (let d of dots) d.className = d.className.replace(" active", "");

    if (slides[slideIndex1 - 1]) {
        slides[slideIndex1 - 1].style.display = "block";
    }
    if (dots[slideIndex1 - 1]) {
        dots[slideIndex1 - 1].className += " active";
    }
}

setInterval(() => {
    plusSlides1(1);
}, 4000);

// ============== تهيئة الصفحة عند التحميل ==============
document.addEventListener('DOMContentLoaded', function() {
    // تحميل السلة
    loadCart();
    updateCartCount();
    
    // تهيئة جميع الأنظمة
    initDarkMode();
    loadAndDisplayProducts();
    setupCategoryFilters();
    setupSimpleOrderModal();
    
    // بدء المؤقت
    startOfferTimer();
    
    // تهيئة نموذج الطلب القديم
    orderModal = new bootstrap.Modal(document.getElementById('orderModal'));
    
    // إعداد نموذج الاتصال
    document.getElementById('contactForm').addEventListener('submit', function(e) {
        e.preventDefault();
        sendContactMessage();
    });
    
    // تعبئة قائمة الولايات القديمة
    const oldWilayaSelect = document.getElementById('wilaya');
    if (oldWilayaSelect) {
        wilayas.forEach(wilaya => {
            const option = document.createElement('option');
            option.value = wilaya;
            option.textContent = wilaya;
            oldWilayaSelect.appendChild(option);
        });
    }
});

// دالة بدء مؤقت العرض الخاص
function startOfferTimer() {
    const daysElement = document.getElementById('days');
    const hoursElement = document.getElementById('hours');
    const minutesElement = document.getElementById('minutes');
    const secondsElement = document.getElementById('seconds');
    
    if (!daysElement || !hoursElement || !minutesElement || !secondsElement) return;
    
    const endDate = new Date();
    endDate.setDate(endDate.getDate() + 3);
    
    function updateTimer() {
        const now = new Date();
        const difference = endDate - now;
        
        if (difference <= 0) {
            daysElement.textContent = '00';
            hoursElement.textContent = '00';
            minutesElement.textContent = '00';
            secondsElement.textContent = '00';
            return;
        }
        
        const days = Math.floor(difference / (1000 * 60 * 60 * 24));
        const hours = Math.floor((difference % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((difference % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((difference % (1000 * 60)) / 1000);
        
        daysElement.textContent = days.toString().padStart(2, '0');
        hoursElement.textContent = hours.toString().padStart(2, '0');
        minutesElement.textContent = minutes.toString().padStart(2, '0');
        secondsElement.textContent = seconds.toString().padStart(2, '0');
    }
    
    updateTimer();
    setInterval(updateTimer, 1000);
}

// وظائف الاتصال (بقيت كما هي)
async function sendContactMessage() {
    const name = document.getElementById('contactName').value;
    const email = document.getElementById('contactEmail').value;
    const phone = document.getElementById('contactPhone').value || 'لم يتم تقديمه';
    const message = document.getElementById('contactMessage').value;
    
    if (!name || !email || !message) {
        showStatus('الرجاء ملء جميع الحقول المطلوبة', 'error');
        return;
    }
    
    const contactSpinner = document.getElementById('contactSpinner');
    const contactSubmitText = document.getElementById('contactSubmitText');
    contactSpinner.classList.remove('d-none');
    contactSubmitText.textContent = 'جاري الإرسال...';
    
    try {
        await emailjs.send("service_lc1q5k8", "template_11pkq0k", {
            from_name: name,
            from_email: email,
            phone_number: phone,
            message: message
        });
        
        showStatus('تم إرسال رسالتك بنجاح! سوف نتواصل معك قريباً.', 'success');
        document.getElementById('contactForm').reset();
    } catch (error) {
        console.error('حدث خطأ:', error);
        showStatus('حدث خطأ أثناء إرسال الرسالة. يرجى المحاولة مرة أخرى.', 'error');
    } finally {
        contactSpinner.classList.add('d-none');
        contactSubmitText.textContent = 'إرسال الرسالة';
    }
}
</script>

<div class="offcanvas offcanvas-end" tabindex="-1" id="cartOffcanvas" aria-labelledby="cartOffcanvasLabel">
    <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="cartOffcanvasLabel">Panier d'achat</h5>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">
        <div id="cartItems" class="mb-3">
            <div class="text-center py-4 text-muted" id="emptyCartMessage">
                <i class="bi bi-cart-x display-4 d-block mb-2"></i>
                Panier d'achat فارغة
            </div>
        </div>
        <div class="cart-summary border-top pt-3">
            <div class="d-flex justify-content-between mb-2">
                <span>Total:</span>
                <span id="cartTotal">0 د.ج</span>
            </div>
            <button class="btn btn-orange w-100" onclick="checkout()" id="checkoutBtn" disabled>
                <i class="bi bi-bag-check"></i> Finaliser la commande
            </button>
        </div>
    </div>
</div>

</body>
</html>
